{"abi": [{"inputs": [{"internalType": "address", "name": "tokenAddress", "type": "address"}], "stateMutability": "nonpayable", "type": "constructor", "name": "constructor"}, {"inputs": [], "name": "damnValuableToken", "outputs": [{"internalType": "contract IERC20", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "borrowAmount", "type": "uint256"}, {"internalType": "address", "name": "borrower", "type": "address"}, {"internalType": "address", "name": "target", "type": "address"}, {"internalType": "bytes", "name": "data", "type": "bytes"}], "name": "flashLoan", "outputs": [], "stateMutability": "nonpayable", "type": "function"}], "allSourcePaths": {"0": "C:/Users/antho/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/security/ReentrancyGuard.sol", "1": "C:/Users/antho/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/token/ERC20/IERC20.sol", "2": "C:/Users/antho/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/utils/Address.sol", "4": "contracts/TrusterLenderPool.sol"}, "ast": {"absolutePath": "contracts/TrusterLenderPool.sol", "exportedSymbols": {"Address": [618], "IERC20": [323], "ReentrancyGuard": [245], "TrusterLenderPool": [205]}, "id": 206, "license": "MIT", "nodeType": "SourceUnit", "nodes": [{"id": 119, "literals": ["solidity", "^", "0.8", ".0"], "nodeType": "PragmaDirective", "src": "33:23:4"}, {"absolutePath": "C:/Users/antho/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/token/ERC20/IERC20.sol", "file": "OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/token/ERC20/IERC20.sol", "id": 120, "nameLocation": "-1:-1:-1", "nodeType": "ImportDirective", "scope": 206, "sourceUnit": 324, "src": "58:84:4", "symbolAliases": [], "unitAlias": ""}, {"absolutePath": "C:/Users/antho/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/utils/Address.sol", "file": "OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/utils/Address.sol", "id": 121, "nameLocation": "-1:-1:-1", "nodeType": "ImportDirective", "scope": 206, "sourceUnit": 619, "src": "143:79:4", "symbolAliases": [], "unitAlias": ""}, {"absolutePath": "C:/Users/antho/.brownie/packages/OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/security/ReentrancyGuard.sol", "file": "OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/security/ReentrancyGuard.sol", "id": 122, "nameLocation": "-1:-1:-1", "nodeType": "ImportDirective", "scope": 206, "sourceUnit": 246, "src": "223:90:4", "symbolAliases": [], "unitAlias": ""}, {"abstract": false, "baseContracts": [{"baseName": {"id": 124, "name": "ReentrancyGuard", "nodeType": "IdentifierPath", "referencedDeclaration": 245, "src": "446:15:4"}, "id": 125, "nodeType": "InheritanceSpecifier", "src": "446:15:4"}], "canonicalName": "TrusterLenderPool", "contractDependencies": [], "contractKind": "contract", "documentation": {"id": 123, "nodeType": "StructuredDocumentation", "src": "315:100:4", "text": " @title TrusterLenderPool\n @author Damn Vulnerable DeFi (https://damnvulnerabledefi.xyz)"}, "fullyImplemented": true, "id": 205, "linearizedBaseContracts": [205, 245], "name": "TrusterLenderPool", "nameLocation": "425:17:4", "nodeType": "ContractDefinition", "nodes": [{"id": 128, "libraryName": {"id": 126, "name": "Address", "nodeType": "IdentifierPath", "referencedDeclaration": 618, "src": "475:7:4"}, "nodeType": "UsingForDirective", "src": "469:26:4", "typeName": {"id": 127, "name": "address", "nodeType": "ElementaryTypeName", "src": "487:7:4", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}}, {"constant": false, "functionSelector": "154c5b0b", "id": 131, "mutability": "immutable", "name": "damnValuableToken", "nameLocation": "525:17:4", "nodeType": "VariableDeclaration", "scope": 205, "src": "501:41:4", "stateVariable": true, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC20_$323", "typeString": "contract IERC20"}, "typeName": {"id": 130, "nodeType": "UserDefinedTypeName", "pathNode": {"id": 129, "name": "IERC20", "nodeType": "IdentifierPath", "referencedDeclaration": 323, "src": "501:6:4"}, "referencedDeclaration": 323, "src": "501:6:4", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC20_$323", "typeString": "contract IERC20"}}, "visibility": "public"}, {"body": {"id": 142, "nodeType": "Block", "src": "584:57:4", "statements": [{"expression": {"id": 140, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftHandSide": {"id": 136, "name": "damnValuableToken", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 131, "src": "594:17:4", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC20_$323", "typeString": "contract IERC20"}}, "nodeType": "Assignment", "operator": "=", "rightHandSide": {"arguments": [{"id": 138, "name": "tokenAddress", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 133, "src": "621:12:4", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "id": 137, "name": "IERC20", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 323, "src": "614:6:4", "typeDescriptions": {"typeIdentifier": "t_type$_t_contract$_IERC20_$323_$", "typeString": "type(contract IERC20)"}}, "id": 139, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "614:20:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_contract$_IERC20_$323", "typeString": "contract IERC20"}}, "src": "594:40:4", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC20_$323", "typeString": "contract IERC20"}}, "id": 141, "nodeType": "ExpressionStatement", "src": "594:40:4"}]}, "id": 143, "implemented": true, "kind": "constructor", "modifiers": [], "name": "", "nameLocation": "-1:-1:-1", "nodeType": "FunctionDefinition", "parameters": {"id": 134, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 133, "mutability": "mutable", "name": "tokenAddress", "nameLocation": "570:12:4", "nodeType": "VariableDeclaration", "scope": 143, "src": "562:20:4", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 132, "name": "address", "nodeType": "ElementaryTypeName", "src": "562:7:4", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}], "src": "561:22:4"}, "returnParameters": {"id": 135, "nodeType": "ParameterList", "parameters": [], "src": "584:0:4"}, "scope": 205, "src": "549:92:4", "stateMutability": "nonpayable", "virtual": false, "visibility": "public"}, {"body": {"id": 203, "nodeType": "Block", "src": "823:424:4", "statements": [{"assignments": [157], "declarations": [{"constant": false, "id": 157, "mutability": "mutable", "name": "balanceBefore", "nameLocation": "841:13:4", "nodeType": "VariableDeclaration", "scope": 203, "src": "833:21:4", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 156, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "833:7:4", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 165, "initialValue": {"arguments": [{"arguments": [{"id": 162, "name": "this", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -28, "src": "893:4:4", "typeDescriptions": {"typeIdentifier": "t_contract$_TrusterLenderPool_$205", "typeString": "contract TrusterLenderPool"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_contract$_TrusterLenderPool_$205", "typeString": "contract TrusterLenderPool"}], "id": 161, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "885:7:4", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 160, "name": "address", "nodeType": "ElementaryTypeName", "src": "885:7:4", "typeDescriptions": {}}}, "id": 163, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "885:13:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "expression": {"id": 158, "name": "damnValuableToken", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 131, "src": "857:17:4", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC20_$323", "typeString": "contract IERC20"}}, "id": 159, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "balanceOf", "nodeType": "MemberAccess", "referencedDeclaration": 280, "src": "857:27:4", "typeDescriptions": {"typeIdentifier": "t_function_external_view$_t_address_$returns$_t_uint256_$", "typeString": "function (address) view external returns (uint256)"}}, "id": 164, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "857:42:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "833:66:4"}, {"expression": {"arguments": [{"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 169, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 167, "name": "balanceBefore", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 157, "src": "917:13:4", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": {"id": 168, "name": "borrowAmount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 145, "src": "934:12:4", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "917:29:4", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, {"hexValue": "4e6f7420656e6f75676820746f6b656e7320696e20706f6f6c", "id": 170, "isConstant": false, "isLValue": false, "isPure": true, "kind": "string", "lValueRequested": false, "nodeType": "Literal", "src": "948:27:4", "typeDescriptions": {"typeIdentifier": "t_stringliteral_b72faba0f3ce88ebe3c1e74158cb85235f15025c6f49bcf2ffc16e426ffab345", "typeString": "literal_string \"Not enough tokens in pool\""}, "value": "Not enough tokens in pool"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bool", "typeString": "bool"}, {"typeIdentifier": "t_stringliteral_b72faba0f3ce88ebe3c1e74158cb85235f15025c6f49bcf2ffc16e426ffab345", "typeString": "literal_string \"Not enough tokens in pool\""}], "id": 166, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [-18, -18], "referencedDeclaration": -18, "src": "909:7:4", "typeDescriptions": {"typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$", "typeString": "function (bool,string memory) pure"}}, "id": 171, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "909:67:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 172, "nodeType": "ExpressionStatement", "src": "909:67:4"}, {"expression": {"arguments": [{"id": 176, "name": "borrower", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 147, "src": "1022:8:4", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, {"id": 177, "name": "borrowAmount", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 145, "src": "1032:12:4", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}, {"typeIdentifier": "t_uint256", "typeString": "uint256"}], "expression": {"id": 173, "name": "damnValuableToken", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 131, "src": "995:17:4", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC20_$323", "typeString": "contract IERC20"}}, "id": 175, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "transfer", "nodeType": "MemberAccess", "referencedDeclaration": 290, "src": "995:26:4", "typeDescriptions": {"typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$", "typeString": "function (address,uint256) external returns (bool)"}}, "id": 178, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "995:50:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, "id": 179, "nodeType": "ExpressionStatement", "src": "995:50:4"}, {"expression": {"arguments": [{"id": 183, "name": "data", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 151, "src": "1075:4:4", "typeDescriptions": {"typeIdentifier": "t_bytes_calldata_ptr", "typeString": "bytes calldata"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bytes_calldata_ptr", "typeString": "bytes calldata"}], "expression": {"id": 180, "name": "target", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 149, "src": "1055:6:4", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "id": 182, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "functionCall", "nodeType": "MemberAccess", "referencedDeclaration": 392, "src": "1055:19:4", "typeDescriptions": {"typeIdentifier": "t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$bound_to$_t_address_$", "typeString": "function (address,bytes memory) returns (bytes memory)"}}, "id": 184, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1055:25:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_bytes_memory_ptr", "typeString": "bytes memory"}}, "id": 185, "nodeType": "ExpressionStatement", "src": "1055:25:4"}, {"assignments": [187], "declarations": [{"constant": false, "id": 187, "mutability": "mutable", "name": "balanceAfter", "nameLocation": "1099:12:4", "nodeType": "VariableDeclaration", "scope": 203, "src": "1091:20:4", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 186, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "1091:7:4", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}], "id": 195, "initialValue": {"arguments": [{"arguments": [{"id": 192, "name": "this", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": -28, "src": "1150:4:4", "typeDescriptions": {"typeIdentifier": "t_contract$_TrusterLenderPool_$205", "typeString": "contract TrusterLenderPool"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_contract$_TrusterLenderPool_$205", "typeString": "contract TrusterLenderPool"}], "id": 191, "isConstant": false, "isLValue": false, "isPure": true, "lValueRequested": false, "nodeType": "ElementaryTypeNameExpression", "src": "1142:7:4", "typeDescriptions": {"typeIdentifier": "t_type$_t_address_$", "typeString": "type(address)"}, "typeName": {"id": 190, "name": "address", "nodeType": "ElementaryTypeName", "src": "1142:7:4", "typeDescriptions": {}}}, "id": 193, "isConstant": false, "isLValue": false, "isPure": false, "kind": "typeConversion", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1142:13:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}], "expression": {"argumentTypes": [{"typeIdentifier": "t_address", "typeString": "address"}], "expression": {"id": 188, "name": "damnValuableToken", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 131, "src": "1114:17:4", "typeDescriptions": {"typeIdentifier": "t_contract$_IERC20_$323", "typeString": "contract IERC20"}}, "id": 189, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "memberName": "balanceOf", "nodeType": "MemberAccess", "referencedDeclaration": 280, "src": "1114:27:4", "typeDescriptions": {"typeIdentifier": "t_function_external_view$_t_address_$returns$_t_uint256_$", "typeString": "function (address) view external returns (uint256)"}}, "id": 194, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1114:42:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "VariableDeclarationStatement", "src": "1091:65:4"}, {"expression": {"arguments": [{"commonType": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "id": 199, "isConstant": false, "isLValue": false, "isPure": false, "lValueRequested": false, "leftExpression": {"id": 197, "name": "balanceAfter", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 187, "src": "1174:12:4", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "nodeType": "BinaryOperation", "operator": ">=", "rightExpression": {"id": 198, "name": "balanceBefore", "nodeType": "Identifier", "overloadedDeclarations": [], "referencedDeclaration": 157, "src": "1190:13:4", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "src": "1174:29:4", "typeDescriptions": {"typeIdentifier": "t_bool", "typeString": "bool"}}, {"hexValue": "466c617368206c6f616e206861736e2774206265656e2070616964206261636b", "id": 200, "isConstant": false, "isLValue": false, "isPure": true, "kind": "string", "lValueRequested": false, "nodeType": "Literal", "src": "1205:34:4", "typeDescriptions": {"typeIdentifier": "t_stringliteral_1dae86046d00ebb5aaf7f545a363e81af36c36f80fbd4f1805487455c218a2ab", "typeString": "literal_string \"Flash loan hasn't been paid back\""}, "value": "Flash loan hasn't been paid back"}], "expression": {"argumentTypes": [{"typeIdentifier": "t_bool", "typeString": "bool"}, {"typeIdentifier": "t_stringliteral_1dae86046d00ebb5aaf7f545a363e81af36c36f80fbd4f1805487455c218a2ab", "typeString": "literal_string \"Flash loan hasn't been paid back\""}], "id": 196, "name": "require", "nodeType": "Identifier", "overloadedDeclarations": [-18, -18], "referencedDeclaration": -18, "src": "1166:7:4", "typeDescriptions": {"typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$", "typeString": "function (bool,string memory) pure"}}, "id": 201, "isConstant": false, "isLValue": false, "isPure": false, "kind": "functionCall", "lValueRequested": false, "names": [], "nodeType": "FunctionCall", "src": "1166:74:4", "tryCall": false, "typeDescriptions": {"typeIdentifier": "t_tuple$__$", "typeString": "tuple()"}}, "id": 202, "nodeType": "ExpressionStatement", "src": "1166:74:4"}]}, "functionSelector": "ab19e0c0", "id": 204, "implemented": true, "kind": "function", "modifiers": [{"id": 154, "kind": "modifierInvocation", "modifierName": {"id": 153, "name": "nonReentrant", "nodeType": "IdentifierPath", "referencedDeclaration": 244, "src": "806:12:4"}, "nodeType": "ModifierInvocation", "src": "806:12:4"}], "name": "flashLoan", "nameLocation": "656:9:4", "nodeType": "FunctionDefinition", "parameters": {"id": 152, "nodeType": "ParameterList", "parameters": [{"constant": false, "id": 145, "mutability": "mutable", "name": "borrowAmount", "nameLocation": "683:12:4", "nodeType": "VariableDeclaration", "scope": 204, "src": "675:20:4", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}, "typeName": {"id": 144, "name": "uint256", "nodeType": "ElementaryTypeName", "src": "675:7:4", "typeDescriptions": {"typeIdentifier": "t_uint256", "typeString": "uint256"}}, "visibility": "internal"}, {"constant": false, "id": 147, "mutability": "mutable", "name": "borrower", "nameLocation": "713:8:4", "nodeType": "VariableDeclaration", "scope": 204, "src": "705:16:4", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 146, "name": "address", "nodeType": "ElementaryTypeName", "src": "705:7:4", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 149, "mutability": "mutable", "name": "target", "nameLocation": "739:6:4", "nodeType": "VariableDeclaration", "scope": 204, "src": "731:14:4", "stateVariable": false, "storageLocation": "default", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}, "typeName": {"id": 148, "name": "address", "nodeType": "ElementaryTypeName", "src": "731:7:4", "stateMutability": "nonpayable", "typeDescriptions": {"typeIdentifier": "t_address", "typeString": "address"}}, "visibility": "internal"}, {"constant": false, "id": 151, "mutability": "mutable", "name": "data", "nameLocation": "770:4:4", "nodeType": "VariableDeclaration", "scope": 204, "src": "755:19:4", "stateVariable": false, "storageLocation": "calldata", "typeDescriptions": {"typeIdentifier": "t_bytes_calldata_ptr", "typeString": "bytes"}, "typeName": {"id": 150, "name": "bytes", "nodeType": "ElementaryTypeName", "src": "755:5:4", "typeDescriptions": {"typeIdentifier": "t_bytes_storage_ptr", "typeString": "bytes"}}, "visibility": "internal"}], "src": "665:115:4"}, "returnParameters": {"id": 155, "nodeType": "ParameterList", "parameters": [], "src": "823:0:4"}, "scope": 205, "src": "647:600:4", "stateMutability": "nonpayable", "virtual": false, "visibility": "external"}], "scope": 206, "src": "416:834:4", "usedErrors": []}], "src": "33:1218:4"}, "bytecode": "60a060405234801561001057600080fd5b506040516107ab3803806107ab83398101604081905261002f91610045565b60016000556001600160a01b0316608052610075565b60006020828403121561005757600080fd5b81516001600160a01b038116811461006e57600080fd5b9392505050565b6080516107076100a460003960008181604001528181610107015281816101f201526102c301526107076000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063154c5b0b1461003b578063ab19e0c01461007e575b600080fd5b6100627f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b61009161008c36600461057c565b610093565b005b600260005414156100eb5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064015b60405180910390fd5b600260009081556040516370a0823160e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015610156573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061017a9190610617565b9050858110156101cc5760405162461bcd60e51b815260206004820152601960248201527f4e6f7420656e6f75676820746f6b656e7320696e20706f6f6c0000000000000060448201526064016100e2565b60405163a9059cbb60e01b81526001600160a01b038681166004830152602482018890527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af115801561023b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061025f9190610630565b506102aa83838080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250506001600160a01b03881692915050610396565b506040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015610312573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103369190610617565b9050818110156103885760405162461bcd60e51b815260206004820181905260248201527f466c617368206c6f616e206861736e2774206265656e2070616964206261636b60448201526064016100e2565b505060016000555050505050565b60606103d883836040518060400160405280601e81526020017f416464726573733a206c6f772d6c6576656c2063616c6c206661696c656400008152506103df565b9392505050565b60606103ee84846000856103f6565b949350505050565b6060824710156104575760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084016100e2565b6001600160a01b0385163b6104ae5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016100e2565b600080866001600160a01b031685876040516104ca9190610682565b60006040518083038185875af1925050503d8060008114610507576040519150601f19603f3d011682016040523d82523d6000602084013e61050c565b606091505b509150915061051c828286610527565b979650505050505050565b606083156105365750816103d8565b8251156105465782518084602001fd5b8160405162461bcd60e51b81526004016100e2919061069e565b80356001600160a01b038116811461057757600080fd5b919050565b60008060008060006080868803121561059457600080fd5b853594506105a460208701610560565b93506105b260408701610560565b9250606086013567ffffffffffffffff808211156105cf57600080fd5b818801915088601f8301126105e357600080fd5b8135818111156105f257600080fd5b89602082850101111561060457600080fd5b9699959850939650602001949392505050565b60006020828403121561062957600080fd5b5051919050565b60006020828403121561064257600080fd5b815180151581146103d857600080fd5b60005b8381101561066d578181015183820152602001610655565b8381111561067c576000848401525b50505050565b60008251610694818460208701610652565b9190910192915050565b60208152600082518060208401526106bd816040850160208701610652565b601f01601f1916919091016040019291505056fea2646970667358221220022dfed83f0294133175bef5f818f51db52895bb5d72c92d97858b81265ca08764736f6c634300080c0033", "bytecodeSha1": "a7241bf02a8bd081c6b5ef8c83421bcc64b4b9b3", "compiler": {"evm_version": "istanbul", "optimizer": {"enabled": true, "runs": 200}, "version": "0.8.12+commit.f00d7308"}, "contractName": "TrusterLenderPool", "coverageMap": {"branches": {"0": {"TrusterLenderPool.flashLoan": {"17": [2325, 2344, true]}}, "1": {}, "2": {"Address.functionCallWithValue": {"14": [5145, 5175, true]}, "Address.verifyCallResult": {"15": [7735, 7742, false], "16": [7876, 7897, false]}}, "4": {"TrusterLenderPool.flashLoan": {"12": [917, 946, true], "13": [1174, 1203, true]}}}, "statements": {"0": {}, "1": {}, "2": {"Address.functionCall": {"4": [3565, 3632], "5": [4018, 4077]}, "Address.functionCallWithValue": {"6": [5137, 5218], "8": [5228, 5288], "9": [5382, 5440]}, "Address.isContract": {"7": [1458, 1488]}, "Address.verifyCallResult": {"10": [7758, 7775], "11": [8202, 8222]}}, "4": {"TrusterLenderPool.flashLoan": {"0": [909, 976], "1": [995, 1045], "2": [1055, 1080], "3": [1166, 1240]}}}}, "dependencies": ["OpenZeppelin/openzeppelin-contracts@4.6.0/Address", "OpenZeppelin/openzeppelin-contracts@4.6.0/IERC20", "OpenZeppelin/openzeppelin-contracts@4.6.0/ReentrancyGuard"], "deployedBytecode": "608060405234801561001057600080fd5b50600436106100365760003560e01c8063154c5b0b1461003b578063ab19e0c01461007e575b600080fd5b6100627f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b61009161008c36600461057c565b610093565b005b600260005414156100eb5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064015b60405180910390fd5b600260009081556040516370a0823160e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015610156573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061017a9190610617565b9050858110156101cc5760405162461bcd60e51b815260206004820152601960248201527f4e6f7420656e6f75676820746f6b656e7320696e20706f6f6c0000000000000060448201526064016100e2565b60405163a9059cbb60e01b81526001600160a01b038681166004830152602482018890527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af115801561023b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061025f9190610630565b506102aa83838080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250506001600160a01b03881692915050610396565b506040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015610312573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103369190610617565b9050818110156103885760405162461bcd60e51b815260206004820181905260248201527f466c617368206c6f616e206861736e2774206265656e2070616964206261636b60448201526064016100e2565b505060016000555050505050565b60606103d883836040518060400160405280601e81526020017f416464726573733a206c6f772d6c6576656c2063616c6c206661696c656400008152506103df565b9392505050565b60606103ee84846000856103f6565b949350505050565b6060824710156104575760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084016100e2565b6001600160a01b0385163b6104ae5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016100e2565b600080866001600160a01b031685876040516104ca9190610682565b60006040518083038185875af1925050503d8060008114610507576040519150601f19603f3d011682016040523d82523d6000602084013e61050c565b606091505b509150915061051c828286610527565b979650505050505050565b606083156105365750816103d8565b8251156105465782518084602001fd5b8160405162461bcd60e51b81526004016100e2919061069e565b80356001600160a01b038116811461057757600080fd5b919050565b60008060008060006080868803121561059457600080fd5b853594506105a460208701610560565b93506105b260408701610560565b9250606086013567ffffffffffffffff808211156105cf57600080fd5b818801915088601f8301126105e357600080fd5b8135818111156105f257600080fd5b89602082850101111561060457600080fd5b9699959850939650602001949392505050565b60006020828403121561062957600080fd5b5051919050565b60006020828403121561064257600080fd5b815180151581146103d857600080fd5b60005b8381101561066d578181015183820152602001610655565b8381111561067c576000848401525b50505050565b60008251610694818460208701610652565b9190910192915050565b60208152600082518060208401526106bd816040850160208701610652565b601f01601f1916919091016040019291505056fea2646970667358221220022dfed83f0294133175bef5f818f51db52895bb5d72c92d97858b81265ca08764736f6c634300080c0033", "deployedSourceMap": "416:834:4:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;501:41;;;;;;;;-1:-1:-1;;;;;192:32:5;;;174:51;;162:2;147:18;501:41:4;;;;;;;647:600;;;;;;:::i;:::-;;:::i;:::-;;;1744:1:0;2325:7;;:19;;2317:63;;;;-1:-1:-1;;;2317:63:0;;1429:2:5;2317:63:0;;;1411:21:5;1468:2;1448:18;;;1441:30;1507:33;1487:18;;;1480:61;1558:18;;2317:63:0;;;;;;;;;1744:1;2455:7;:18;;;857:42:4::1;::::0;-1:-1:-1;;;857:42:4;;893:4:::1;857:42;::::0;::::1;174:51:5::0;857:17:4::1;-1:-1:-1::0;;;;;857:27:4::1;::::0;::::1;::::0;147:18:5;;857:42:4::1;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;833:66;;934:12;917:13;:29;;909:67;;;::::0;-1:-1:-1;;;909:67:4;;2186:2:5;909:67:4::1;::::0;::::1;2168:21:5::0;2225:2;2205:18;;;2198:30;2264:27;2244:18;;;2237:55;2309:18;;909:67:4::1;1984:349:5::0;909:67:4::1;995:50;::::0;-1:-1:-1;;;995:50:4;;-1:-1:-1;;;;;2530:32:5;;;995:50:4::1;::::0;::::1;2512:51:5::0;2579:18;;;2572:34;;;995:17:4::1;:26;::::0;::::1;::::0;2485:18:5;;995:50:4::1;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;1055:25;1075:4;;1055:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;::::0;::::1;::::0;;;;-1:-1:-1;;;;;;;1055:19:4;::::1;::::0;:25;-1:-1:-1;;1055:19:4::1;:25::i;:::-;-1:-1:-1::0;1114:42:4::1;::::0;-1:-1:-1;;;1114:42:4;;1150:4:::1;1114:42;::::0;::::1;174:51:5::0;1091:20:4::1;::::0;1114:17:::1;-1:-1:-1::0;;;;;1114:27:4::1;::::0;::::1;::::0;147:18:5;;1114:42:4::1;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1091:65;;1190:13;1174:12;:29;;1166:74;;;::::0;-1:-1:-1;;;1166:74:4;;3101:2:5;1166:74:4::1;::::0;::::1;3083:21:5::0;;;3120:18;;;3113:30;3179:34;3159:18;;;3152:62;3231:18;;1166:74:4::1;2899:356:5::0;1166:74:4::1;-1:-1:-1::0;;1701:1:0;2628:7;:22;-1:-1:-1;;;;;647:600:4:o;3466:173:2:-;3541:12;3572:60;3585:6;3593:4;3572:60;;;;;;;;;;;;;;;;;:12;:60::i;:::-;3565:67;3466:173;-1:-1:-1;;;3466:173:2:o;3861:223::-;3994:12;4025:52;4047:6;4055:4;4061:1;4064:12;4025:21;:52::i;:::-;4018:59;3861:223;-1:-1:-1;;;;3861:223:2:o;4948:499::-;5113:12;5170:5;5145:21;:30;;5137:81;;;;-1:-1:-1;;;5137:81:2;;3462:2:5;5137:81:2;;;3444:21:5;3501:2;3481:18;;;3474:30;3540:34;3520:18;;;3513:62;-1:-1:-1;;;3591:18:5;;;3584:36;3637:19;;5137:81:2;3260:402:5;5137:81:2;-1:-1:-1;;;;;1465:19:2;;;5228:60;;;;-1:-1:-1;;;5228:60:2;;3869:2:5;5228:60:2;;;3851:21:5;3908:2;3888:18;;;3881:30;3947:31;3927:18;;;3920:59;3996:18;;5228:60:2;3667:353:5;5228:60:2;5300:12;5314:23;5341:6;-1:-1:-1;;;;;5341:11:2;5360:5;5367:4;5341:31;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5299:73;;;;5389:51;5406:7;5415:10;5427:12;5389:16;:51::i;:::-;5382:58;4948:499;-1:-1:-1;;;;;;;4948:499:2:o;7561:692::-;7707:12;7735:7;7731:516;;;-1:-1:-1;7765:10:2;7758:17;;7731:516;7876:17;;:21;7872:365;;8070:10;8064:17;8130:15;8117:10;8113:2;8109:19;8102:44;7872:365;8209:12;8202:20;;-1:-1:-1;;;8202:20:2;;;;;;;;:::i;236:173:5:-;304:20;;-1:-1:-1;;;;;353:31:5;;343:42;;333:70;;399:1;396;389:12;333:70;236:173;;;:::o;414:808::-;511:6;519;527;535;543;596:3;584:9;575:7;571:23;567:33;564:53;;;613:1;610;603:12;564:53;649:9;636:23;626:33;;678:38;712:2;701:9;697:18;678:38;:::i;:::-;668:48;;735:38;769:2;758:9;754:18;735:38;:::i;:::-;725:48;;824:2;813:9;809:18;796:32;847:18;888:2;880:6;877:14;874:34;;;904:1;901;894:12;874:34;942:6;931:9;927:22;917:32;;987:7;980:4;976:2;972:13;968:27;958:55;;1009:1;1006;999:12;958:55;1049:2;1036:16;1075:2;1067:6;1064:14;1061:34;;;1091:1;1088;1081:12;1061:34;1136:7;1131:2;1122:6;1118:2;1114:15;1110:24;1107:37;1104:57;;;1157:1;1154;1147:12;1104:57;414:808;;;;-1:-1:-1;414:808:5;;-1:-1:-1;1188:2:5;1180:11;;1210:6;414:808;-1:-1:-1;;;414:808:5:o;1795:184::-;1865:6;1918:2;1906:9;1897:7;1893:23;1889:32;1886:52;;;1934:1;1931;1924:12;1886:52;-1:-1:-1;1957:16:5;;1795:184;-1:-1:-1;1795:184:5:o;2617:277::-;2684:6;2737:2;2725:9;2716:7;2712:23;2708:32;2705:52;;;2753:1;2750;2743:12;2705:52;2785:9;2779:16;2838:5;2831:13;2824:21;2817:5;2814:32;2804:60;;2860:1;2857;2850:12;4025:258;4097:1;4107:113;4121:6;4118:1;4115:13;4107:113;;;4197:11;;;4191:18;4178:11;;;4171:39;4143:2;4136:10;4107:113;;;4238:6;4235:1;4232:13;4229:48;;;4273:1;4264:6;4259:3;4255:16;4248:27;4229:48;;4025:258;;;:::o;4288:274::-;4417:3;4455:6;4449:13;4471:53;4517:6;4512:3;4505:4;4497:6;4493:17;4471:53;:::i;:::-;4540:16;;;;;4288:274;-1:-1:-1;;4288:274:5:o;4567:383::-;4716:2;4705:9;4698:21;4679:4;4748:6;4742:13;4791:6;4786:2;4775:9;4771:18;4764:34;4807:66;4866:6;4861:2;4850:9;4846:18;4841:2;4833:6;4829:15;4807:66;:::i;:::-;4934:2;4913:15;-1:-1:-1;;4909:29:5;4894:45;;;;4941:2;4890:54;;4567:383;-1:-1:-1;;4567:383:5:o", "language": "Solidity", "natspec": {"author": "Damn Vulnerable DeFi (https://damnvulnerabledefi.xyz)", "kind": "dev", "methods": {}, "title": "TrusterLenderPool", "version": 1}, "offset": [416, 1250], "opcodes": "PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x4 CALLDATASIZE LT PUSH2 0x36 JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x154C5B0B EQ PUSH2 0x3B JUMPI DUP1 PUSH4 0xAB19E0C0 EQ PUSH2 0x7E JUMPI JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x62 PUSH32 0x0 DUP2 JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST PUSH2 0x91 PUSH2 0x8C CALLDATASIZE PUSH1 0x4 PUSH2 0x57C JUMP JUMPDEST PUSH2 0x93 JUMP JUMPDEST STOP JUMPDEST PUSH1 0x2 PUSH1 0x0 SLOAD EQ ISZERO PUSH2 0xEB JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x1F PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x5265656E7472616E637947756172643A207265656E7472616E742063616C6C00 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 REVERT JUMPDEST PUSH1 0x2 PUSH1 0x0 SWAP1 DUP2 SSTORE PUSH1 0x40 MLOAD PUSH4 0x70A08231 PUSH1 0xE0 SHL DUP2 MSTORE ADDRESS PUSH1 0x4 DUP3 ADD MSTORE PUSH32 0x0 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND SWAP1 PUSH4 0x70A08231 SWAP1 PUSH1 0x24 ADD PUSH1 0x20 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 DUP7 GAS STATICCALL ISZERO DUP1 ISZERO PUSH2 0x156 JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP POP POP POP PUSH1 0x40 MLOAD RETURNDATASIZE PUSH1 0x1F NOT PUSH1 0x1F DUP3 ADD AND DUP3 ADD DUP1 PUSH1 0x40 MSTORE POP DUP2 ADD SWAP1 PUSH2 0x17A SWAP2 SWAP1 PUSH2 0x617 JUMP JUMPDEST SWAP1 POP DUP6 DUP2 LT ISZERO PUSH2 0x1CC JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x19 PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x4E6F7420656E6F75676820746F6B656E7320696E20706F6F6C00000000000000 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD PUSH2 0xE2 JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH4 0xA9059CBB PUSH1 0xE0 SHL DUP2 MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP7 DUP2 AND PUSH1 0x4 DUP4 ADD MSTORE PUSH1 0x24 DUP3 ADD DUP9 SWAP1 MSTORE PUSH32 0x0 AND SWAP1 PUSH4 0xA9059CBB SWAP1 PUSH1 0x44 ADD PUSH1 0x20 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 PUSH1 0x0 DUP8 GAS CALL ISZERO DUP1 ISZERO PUSH2 0x23B JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP POP POP POP PUSH1 0x40 MLOAD RETURNDATASIZE PUSH1 0x1F NOT PUSH1 0x1F DUP3 ADD AND DUP3 ADD DUP1 PUSH1 0x40 MSTORE POP DUP2 ADD SWAP1 PUSH2 0x25F SWAP2 SWAP1 PUSH2 0x630 JUMP JUMPDEST POP PUSH2 0x2AA DUP4 DUP4 DUP1 DUP1 PUSH1 0x1F ADD PUSH1 0x20 DUP1 SWAP2 DIV MUL PUSH1 0x20 ADD PUSH1 0x40 MLOAD SWAP1 DUP2 ADD PUSH1 0x40 MSTORE DUP1 SWAP4 SWAP3 SWAP2 SWAP1 DUP2 DUP2 MSTORE PUSH1 0x20 ADD DUP4 DUP4 DUP1 DUP3 DUP5 CALLDATACOPY PUSH1 0x0 SWAP3 ADD SWAP2 SWAP1 SWAP2 MSTORE POP POP PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP9 AND SWAP3 SWAP2 POP POP PUSH2 0x396 JUMP JUMPDEST POP PUSH1 0x40 MLOAD PUSH4 0x70A08231 PUSH1 0xE0 SHL DUP2 MSTORE ADDRESS PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x0 SWAP1 PUSH32 0x0 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND SWAP1 PUSH4 0x70A08231 SWAP1 PUSH1 0x24 ADD PUSH1 0x20 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 DUP7 GAS STATICCALL ISZERO DUP1 ISZERO PUSH2 0x312 JUMPI RETURNDATASIZE PUSH1 0x0 DUP1 RETURNDATACOPY RETURNDATASIZE PUSH1 0x0 REVERT JUMPDEST POP POP POP POP PUSH1 0x40 MLOAD RETURNDATASIZE PUSH1 0x1F NOT PUSH1 0x1F DUP3 ADD AND DUP3 ADD DUP1 PUSH1 0x40 MSTORE POP DUP2 ADD SWAP1 PUSH2 0x336 SWAP2 SWAP1 PUSH2 0x617 JUMP JUMPDEST SWAP1 POP DUP2 DUP2 LT ISZERO PUSH2 0x388 JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD DUP2 SWAP1 MSTORE PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x466C617368206C6F616E206861736E2774206265656E2070616964206261636B PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD PUSH2 0xE2 JUMP JUMPDEST POP POP PUSH1 0x1 PUSH1 0x0 SSTORE POP POP POP POP POP JUMP JUMPDEST PUSH1 0x60 PUSH2 0x3D8 DUP4 DUP4 PUSH1 0x40 MLOAD DUP1 PUSH1 0x40 ADD PUSH1 0x40 MSTORE DUP1 PUSH1 0x1E DUP2 MSTORE PUSH1 0x20 ADD PUSH32 0x416464726573733A206C6F772D6C6576656C2063616C6C206661696C65640000 DUP2 MSTORE POP PUSH2 0x3DF JUMP JUMPDEST SWAP4 SWAP3 POP POP POP JUMP JUMPDEST PUSH1 0x60 PUSH2 0x3EE DUP5 DUP5 PUSH1 0x0 DUP6 PUSH2 0x3F6 JUMP JUMPDEST SWAP5 SWAP4 POP POP POP POP JUMP JUMPDEST PUSH1 0x60 DUP3 SELFBALANCE LT ISZERO PUSH2 0x457 JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x26 PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x416464726573733A20696E73756666696369656E742062616C616E636520666F PUSH1 0x44 DUP3 ADD MSTORE PUSH6 0x1C8818D85B1B PUSH1 0xD2 SHL PUSH1 0x64 DUP3 ADD MSTORE PUSH1 0x84 ADD PUSH2 0xE2 JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP6 AND EXTCODESIZE PUSH2 0x4AE JUMPI PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x1D PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x416464726573733A2063616C6C20746F206E6F6E2D636F6E7472616374000000 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 ADD PUSH2 0xE2 JUMP JUMPDEST PUSH1 0x0 DUP1 DUP7 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP6 DUP8 PUSH1 0x40 MLOAD PUSH2 0x4CA SWAP2 SWAP1 PUSH2 0x682 JUMP JUMPDEST PUSH1 0x0 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 DUP6 DUP8 GAS CALL SWAP3 POP POP POP RETURNDATASIZE DUP1 PUSH1 0x0 DUP2 EQ PUSH2 0x507 JUMPI PUSH1 0x40 MLOAD SWAP2 POP PUSH1 0x1F NOT PUSH1 0x3F RETURNDATASIZE ADD AND DUP3 ADD PUSH1 0x40 MSTORE RETURNDATASIZE DUP3 MSTORE RETURNDATASIZE PUSH1 0x0 PUSH1 0x20 DUP5 ADD RETURNDATACOPY PUSH2 0x50C JUMP JUMPDEST PUSH1 0x60 SWAP2 POP JUMPDEST POP SWAP2 POP SWAP2 POP PUSH2 0x51C DUP3 DUP3 DUP7 PUSH2 0x527 JUMP JUMPDEST SWAP8 SWAP7 POP POP POP POP POP POP POP JUMP JUMPDEST PUSH1 0x60 DUP4 ISZERO PUSH2 0x536 JUMPI POP DUP2 PUSH2 0x3D8 JUMP JUMPDEST DUP3 MLOAD ISZERO PUSH2 0x546 JUMPI DUP3 MLOAD DUP1 DUP5 PUSH1 0x20 ADD REVERT JUMPDEST DUP2 PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x4 ADD PUSH2 0xE2 SWAP2 SWAP1 PUSH2 0x69E JUMP JUMPDEST DUP1 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 EQ PUSH2 0x577 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x0 DUP1 PUSH1 0x0 DUP1 PUSH1 0x0 PUSH1 0x80 DUP7 DUP9 SUB SLT ISZERO PUSH2 0x594 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP6 CALLDATALOAD SWAP5 POP PUSH2 0x5A4 PUSH1 0x20 DUP8 ADD PUSH2 0x560 JUMP JUMPDEST SWAP4 POP PUSH2 0x5B2 PUSH1 0x40 DUP8 ADD PUSH2 0x560 JUMP JUMPDEST SWAP3 POP PUSH1 0x60 DUP7 ADD CALLDATALOAD PUSH8 0xFFFFFFFFFFFFFFFF DUP1 DUP3 GT ISZERO PUSH2 0x5CF JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP2 DUP9 ADD SWAP2 POP DUP9 PUSH1 0x1F DUP4 ADD SLT PUSH2 0x5E3 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP2 CALLDATALOAD DUP2 DUP2 GT ISZERO PUSH2 0x5F2 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP10 PUSH1 0x20 DUP3 DUP6 ADD ADD GT ISZERO PUSH2 0x604 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST SWAP7 SWAP10 SWAP6 SWAP9 POP SWAP4 SWAP7 POP PUSH1 0x20 ADD SWAP5 SWAP4 SWAP3 POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x629 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP MLOAD SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x642 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP2 MLOAD DUP1 ISZERO ISZERO DUP2 EQ PUSH2 0x3D8 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 JUMPDEST DUP4 DUP2 LT ISZERO PUSH2 0x66D JUMPI DUP2 DUP2 ADD MLOAD DUP4 DUP3 ADD MSTORE PUSH1 0x20 ADD PUSH2 0x655 JUMP JUMPDEST DUP4 DUP2 GT ISZERO PUSH2 0x67C JUMPI PUSH1 0x0 DUP5 DUP5 ADD MSTORE JUMPDEST POP POP POP POP JUMP JUMPDEST PUSH1 0x0 DUP3 MLOAD PUSH2 0x694 DUP2 DUP5 PUSH1 0x20 DUP8 ADD PUSH2 0x652 JUMP JUMPDEST SWAP2 SWAP1 SWAP2 ADD SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x20 DUP2 MSTORE PUSH1 0x0 DUP3 MLOAD DUP1 PUSH1 0x20 DUP5 ADD MSTORE PUSH2 0x6BD DUP2 PUSH1 0x40 DUP6 ADD PUSH1 0x20 DUP8 ADD PUSH2 0x652 JUMP JUMPDEST PUSH1 0x1F ADD PUSH1 0x1F NOT AND SWAP2 SWAP1 SWAP2 ADD PUSH1 0x40 ADD SWAP3 SWAP2 POP POP JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 MUL 0x2D INVALID 0xD8 EXTCODEHASH MUL SWAP5 SGT BALANCE PUSH22 0xBEF5F818F51DB52895BB5D72C92D97858B81265CA087 PUSH5 0x736F6C6343 STOP ADDMOD 0xC STOP CALLER ", "sha1": "716b9ab2371e8ff6e08d12866fc068b45afdbebf", "source": "// SPDX-License-Identifier: MIT\n\npragma solidity ^0.8.0;\n\nimport \"OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/token/ERC20/IERC20.sol\";\nimport \"OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/utils/Address.sol\";\nimport \"OpenZeppelin/openzeppelin-contracts@4.6.0/contracts/security/ReentrancyGuard.sol\";\n\n/**\n * @title TrusterLenderPool\n * @author Damn Vulnerable DeFi (https://damnvulnerabledefi.xyz)\n */\ncontract TrusterLenderPool is ReentrancyGuard {\n\n    using Address for address;\n\n    IERC20 public immutable damnValuableToken;\n\n    constructor (address tokenAddress) {\n        damnValuableToken = IERC20(tokenAddress);\n    }\n\n    function flashLoan(\n        uint256 borrowAmount,\n        address borrower,\n        address target,\n        bytes calldata data\n    )\n        external\n        nonReentrant\n    {\n        uint256 balanceBefore = damnValuableToken.balanceOf(address(this));\n        require(balanceBefore >= borrowAmount, \"Not enough tokens in pool\");\n        \n        damnValuableToken.transfer(borrower, borrowAmount);\n        target.functionCall(data);\n\n        uint256 balanceAfter = damnValuableToken.balanceOf(address(this));\n        require(balanceAfter >= balanceBefore, \"Flash loan hasn't been paid back\");\n    }\n\n}\n", "sourceMap": "416:834:4:-:0;;;549:92;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1701:1:0;1806:7;:22;-1:-1:-1;;;;;594:40:4;;;416:834;;14:290:5;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:5;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:5:o;:::-;416:834:4;;;;;;;;;;;;;;;;;;;;;;;;;;;", "sourcePath": "contracts/TrusterLenderPool.sol", "type": "contract", "deployment": {"address": "0x77b11167502FC8b35cc2cB5Af7145c174D32Ad9B", "chainid": "4", "blockHeight": 10821190}}